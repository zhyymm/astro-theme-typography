---
/*
  Giscus 评论组件 - 当前版本说明：
  - 使用 data-loading="eager" 强制立即加载（避免 lazy 在本地延迟）
  - data-theme="light" 用于本地测试，确认显示后可改回 "preferred_color_scheme"
  - 确认 Discussions 已启用，Discussion #1 存在
  - 本地不显示最常见原因：浏览器隐私设置挡第三方 iframe / cookie
  - 建议：先部署到 Vercel/Netlify 测试 production 环境
*/

const giscusTheme = 'light';
const giscusLoading = 'eager';
---

<div id="giscus-container" class="w-full min-h-[600px] border-4 border-blue-500 rounded-lg p-8 bg-white dark:bg-gray-900 text-center text-xl font-bold text-blue-600">
  Giscus 评论区加载中...
  如果这里没变化，请检查浏览器隐私设置（允许第三方 cookie）或先部署上线测试！
</div>

<script
  src="https://giscus.app/client.js"
  data-repo="zhyymm/astro-theme-typography"
  data-repo-id="R_kgDOQ39ToQ"
  data-category="General"
  data-category-id="DIC_kwDOQ39Toc4C02FO"
  data-mapping="pathname"
  data-strict="0"
  data-reactions-enabled="1"
  data-emit-metadata="0"
  data-input-position="bottom"
  data-theme={giscusTheme}
  data-lang="zh-CN"
  data-loading={giscusLoading}
  crossorigin="anonymous"
  async
></script>
:root {
  --uno-colors-primary: theme('colors.primary');
  --uno-colors-background: theme('colors.background');
  --uno-fonts-ui: theme('fontFamily.ui');
  --uno-colors-shadow: theme('colors.shadow');
}
html {
  --at-apply: antialiased;
  --at-apply: 'bg-background c-primary font-ui text-shadow-color-shadow';

  text-shadow: 1px 1px 1px var(--uno-colors-shadow);
  background-size: 7px 7px;
  background-image: linear-gradient(to right, var(--uno-colors-shadow) 1px, transparent 1px),
  linear-gradient(to bottom, var(--uno-colors-shadow) 1px, transparent 1px);
}

:where(a):not(.not-underline-hover) {
  --at-apply: 'p-1.5px';
  --at-apply: 'decoration-underline decoration-0.1em decoration-offset-2px';
  --at-apply: 'ease-in-out duration-300ms';
  --at-apply: 'hover:(c-background bg-primary decoration-primary)';
}
/* --- 仅针对服务器端透明度与特定页面字号的补丁 --- */

/* 1. 确保所有背景透明，让 960px 网格线透出来 */
html, body, main, header, footer, article, section, #swup {
  background-color: transparent !important;
}

/* 2. 精准调大作者页面的“小字号”文字 */
/* 不依赖特殊字符选择器，避免 esbuild 报错 */
p[class*="text-"][class*="11px"] {
  font-size: 13px !important;
  color: #71717a !important; /* 对应的灰色 */
  line-height: 1.6 !important;
}

/* 调大作者页面的统计数字 */
p[class*="text-"][class*="11px"] span {
  font-size: 15px !important;
  font-weight: bold !important;
  color: #3f3f46 !important;
}

/* 3. 针对“查看导师档案”按钮 */
a[href*="/intro/"] {
  font-size: 13px !important;
  padding: 6px 14px !important;
}
/* --- 统一主页与归档页面的预览文字 --- */

/* 1. 强制归档页面的预览描述文字调大，与主页看齐 */
.line-clamp-2,
.line-clamp-3,
[class*="line-clamp-"] {
  font-size: 15px !important;    /* 统一调至 15px 或 16px */
  line-height: 1.6 !important;   /* 增加行间距，更具呼吸感 */
  color: #52525b !important;    /* 对应 zinc-600，比正文稍浅 */
  margin-top: 0.5rem !important;
}

/* 2. 如果归档页面的预览文字在特定容器下，可以加固这一层 */
article p {
  font-size: 15px !important;
}
/* --- 统一文字颜色：对治色差 --- */

/* 1. 强制作者列表页的“已发布文章”文字颜色变浅 */
/* 锁定包含“已发布文章”字样的段落 */
p[class*="text-"][class*="11px"],
.flex-col.gap-1\.5 p,
.flex.items-center.gap-4 p {
  color: #a1a1aa !important; /* 对应 zinc-400，与分类页后的文字颜色达成一致 */
}

/* 2. 保持数字稍深一点点以突出重点，但也要比之前柔和 */
p[class*="text-"][class*="11px"] span,
.flex-col.gap-1\.5 p span {
  color: #71717a !important; /* 对应 zinc-500 */
}

/* 3. 针对“共计 XX 篇文章”的文字（分类/归档页）统一加固 */
.text-zinc-400,
[class*="text-zinc-400"] {
  color: #a1a1aa !important;
}
/* 彻底清除所有带胶囊背景按钮的下划线 */
a.rounded-full,
a.rounded-full span,
a[href*="/authors/"] {
  text-decoration: none !important;
  border-bottom: none !important;
}
/* --- 统一文章元数据颜色：对治色差 --- */

/* 1. 强制作者、分类、标签颜色统一为深色 */
main article a[href*="/authors/"],
main article a[href*="/categories/"],
main article a[href*="/tags/"],
main article .text-zinc-500 a {
  color: #27272a !important; /* 对应 zinc-800，深黑色 */
  opacity: 1 !important;
  text-decoration-color: #d4d4d8 !important; /* 让下划线颜色变浅，不喧宾夺主 */
}

/* 2. 移除作者链接可能存在的淡化效果 */
main article .opacity-60,
main article .text-zinc-400 {
  opacity: 1 !important;
  color: #27272a !important;
}

/* 3. 鼠标悬停时的反馈：统一变为橙色，保持交互一致性 */
main article a[href*="/authors/"]:hover,
main article a[href*="/categories/"]:hover,
main article a[href*="/tags/"]:hover {
  color: #ea580c !important; /* orange-600 */
}
/* --- 置顶文章：清净无竖线版 --- */

/* 1. 外层容器：彻底简化，只保留下边距 */
.is-pinned {
  background-color: transparent !important;
  border: none !important; /* 彻底移除所有边框竖线 */
  padding-left: 0 !important;
  margin-bottom: 2rem !important;
  position: relative;
}

/* 2. 标题和元数据区域：仅保留背景色块 */
.is-pinned header,
.is-pinned h2 {
  background-color: rgba(234, 88, 12, 0.06) !important; /* 稍微加深一点点色块，补偿竖线的视觉缺失 */
  padding: 0.5rem 1rem !important;
  border-radius: 6px; /* 圆润的边角更柔和 */
  width: fit-content;
  display: block;
}

/* 3. 置顶小标签：依然保留在标题前，作为唯一的核心指引 */
.is-pinned h2::before {
  content: "置顶" !important;
  display: inline-block !important;
  background-color: #ea580c !important;
  color: white !important;
  font-size: 11px !important;
  font-weight: bold !important;
  padding: 1px 6px !important;
  border-radius: 3px !important;
  margin-right: 10px !important;
  vertical-align: middle !important;
}

/* 4. 预览文字（摘要）：回归自然排版 */
.is-pinned p {
  background-color: transparent !important;
  padding-left: 0.5rem !important; /* 稍微给一点缩进，保持视觉错位感 */
  margin-top: 1rem !important;
  line-height: 1.8 !important;
}/* --- 替换你文件底部的相关部分 --- */

/* --- 1. 左右绝对齐平：通过微调 margin 解决整体太高的问题 --- */
/* 关键：色块随文字宽度走 */
/* --- 彻底清理下划线：终极补丁 --- */

/* 1. 强制移除全站所有链接的下划线和背景装饰 */
:where(a) {
  text-decoration: none !important;
  border-bottom: none !important;
  box-shadow: none !important;
  background-image: none !important;
}

/* 2. 覆盖 UnoCSS 默认的悬停装饰 */
:where(a):hover {
  text-decoration: none !important;
  border-bottom: none !important;
  background-color: transparent !important; /* 移除悬停时的背景变色，如果不需要背景色块的话 */
  color: #ea580c !important; /* 悬停时变为橙色，保持“信根”交互 */
}

/* 3. 特别针对标题（h1, h2, h3）内的链接，确保绝对清净 */
h1 a, h2 a, h3 a, .post-title a {
  text-decoration: none !important;
  border-bottom: none !important;
  color: inherit !important;
}

h1 a:hover, h2 a:hover, h3 a:hover, .post-title a:hover {
  color: #ea580c !important; /* 仅在悬停时如实显示橙色 */
}

/* 4. 移除导航栏、侧边栏的装饰 */
nav a, .menu a, header a, footer a {
  text-decoration: none !important;
  border-bottom: none !important;
}
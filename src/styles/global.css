:root {
  --uno-colors-primary: theme('colors.primary');
  --uno-colors-background: theme('colors.background');
  --uno-fonts-ui: theme('fontFamily.ui');
  --uno-colors-shadow: theme('colors.shadow');
}
html {
  --at-apply: antialiased;
  --at-apply: 'bg-background c-primary font-ui text-shadow-color-shadow';

  text-shadow: 1px 1px 1px var(--uno-colors-shadow);
  background-size: 7px 7px;
  background-image: linear-gradient(to right, var(--uno-colors-shadow) 1px, transparent 1px),
  linear-gradient(to bottom, var(--uno-colors-shadow) 1px, transparent 1px);
}

:where(a):not(.not-underline-hover) {
  --at-apply: 'p-1.5px';
  --at-apply: 'decoration-underline decoration-0.1em decoration-offset-2px';
  --at-apply: 'ease-in-out duration-300ms';
  --at-apply: 'hover:(c-background bg-primary decoration-primary)';
}
/* --- 仅针对服务器端透明度与特定页面字号的补丁 --- */

/* 1. 确保所有背景透明，让 960px 网格线透出来 */
html, body, main, header, footer, article, section, #swup {
  background-color: transparent !important;
}

/* 2. 精准调大作者页面的“小字号”文字 */
/* 不依赖特殊字符选择器，避免 esbuild 报错 */
p[class*="text-"][class*="11px"] {
  font-size: 13px !important;
  color: #71717a !important; /* 对应的灰色 */
  line-height: 1.6 !important;
}

/* 调大作者页面的统计数字 */
p[class*="text-"][class*="11px"] span {
  font-size: 15px !important;
  font-weight: bold !important;
  color: #3f3f46 !important;
}

/* 3. 针对“查看导师档案”按钮 */
a[href*="/intro/"] {
  font-size: 13px !important;
  padding: 6px 14px !important;
}
/* --- 统一主页与归档页面的预览文字 --- */

/* 1. 强制归档页面的预览描述文字调大，与主页看齐 */
.line-clamp-2,
.line-clamp-3,
[class*="line-clamp-"] {
  font-size: 15px !important;    /* 统一调至 15px 或 16px */
  line-height: 1.6 !important;   /* 增加行间距，更具呼吸感 */
  color: #52525b !important;    /* 对应 zinc-600，比正文稍浅 */
  margin-top: 0.5rem !important;
}

/* 2. 如果归档页面的预览文字在特定容器下，可以加固这一层 */
article p {
  font-size: 15px !important;
}
/* --- 统一文字颜色：对治色差 --- */

/* 1. 强制作者列表页的“已发布文章”文字颜色变浅 */
/* 锁定包含“已发布文章”字样的段落 */
p[class*="text-"][class*="11px"],
.flex-col.gap-1\.5 p,
.flex.items-center.gap-4 p {
  color: #a1a1aa !important; /* 对应 zinc-400，与分类页后的文字颜色达成一致 */
}

/* 2. 保持数字稍深一点点以突出重点，但也要比之前柔和 */
p[class*="text-"][class*="11px"] span,
.flex-col.gap-1\.5 p span {
  color: #71717a !important; /* 对应 zinc-500 */
}

/* 3. 针对“共计 XX 篇文章”的文字（分类/归档页）统一加固 */
.text-zinc-400,
[class*="text-zinc-400"] {
  color: #a1a1aa !important;
}
/* 彻底清除所有带胶囊背景按钮的下划线 */
a.rounded-full,
a.rounded-full span,
a[href*="/authors/"] {
  text-decoration: none !important;
  border-bottom: none !important;
}
/* --- 统一文章元数据颜色：对治色差 --- */

/* 1. 强制作者、分类、标签颜色统一为深色 */
main article a[href*="/authors/"],
main article a[href*="/categories/"],
main article a[href*="/tags/"],
main article .text-zinc-500 a {
  color: #27272a !important; /* 对应 zinc-800，深黑色 */
  opacity: 1 !important;
  text-decoration-color: #d4d4d8 !important; /* 让下划线颜色变浅，不喧宾夺主 */
}

/* 2. 移除作者链接可能存在的淡化效果 */
main article .opacity-60,
main article .text-zinc-400 {
  opacity: 1 !important;
  color: #27272a !important;
}

/* 3. 鼠标悬停时的反馈：统一变为橙色，保持交互一致性 */
main article a[href*="/authors/"]:hover,
main article a[href*="/categories/"]:hover,
main article a[href*="/tags/"]:hover {
  color: #ea580c !important; /* orange-600 */
}
/* --- 置顶文章：清净无竖线版 --- */

/* 1. 外层容器：彻底简化，只保留下边距 */
.is-pinned {
  background-color: transparent !important;
  border: none !important; /* 彻底移除所有边框竖线 */
  padding-left: 0 !important;
  margin-bottom: 2rem !important;
  position: relative;
}

/* 2. 标题和元数据区域：仅保留背景色块 */
.is-pinned header,
.is-pinned h2 {
  background-color: rgba(234, 88, 12, 0.06) !important; /* 稍微加深一点点色块，补偿竖线的视觉缺失 */
  padding: 0.5rem 1rem !important;
  border-radius: 6px; /* 圆润的边角更柔和 */
  width: fit-content;
  display: block;
}

/* 3. 置顶小标签：依然保留在标题前，作为唯一的核心指引 */
.is-pinned h2::before {
  content: "置顶" !important;
  display: inline-block !important;
  background-color: #ea580c !important;
  color: white !important;
  font-size: 11px !important;
  font-weight: bold !important;
  padding: 1px 6px !important;
  border-radius: 3px !important;
  margin-right: 10px !important;
  vertical-align: middle !important;
}

/* 4. 预览文字（摘要）：回归自然排版 */
.is-pinned p {
  background-color: transparent !important;
  padding-left: 0.5rem !important; /* 稍微给一点缩进，保持视觉错位感 */
  margin-top: 1rem !important;
  line-height: 1.8 !important;
}/* --- 替换你文件底部的相关部分 --- */

/* --- 1. 左右绝对齐平：通过微调 margin 解决整体太高的问题 --- */
/* 关键：色块随文字宽度走 */
/* --- 彻底清理下划线：终极补丁 --- */

/* 1. 强制移除全站所有链接的下划线和背景装饰 */
:where(a) {
  text-decoration: none !important;
  border-bottom: none !important;
  box-shadow: none !important;
  background-image: none !important;
}

/* 2. 覆盖 UnoCSS 默认的悬停装饰 */
:where(a):hover {
  text-decoration: none !important;
  border-bottom: none !important;
  background-color: transparent !important; /* 移除悬停时的背景变色，如果不需要背景色块的话 */
  color: #ea580c !important; /* 悬停时变为橙色，保持“信根”交互 */
}

/* 3. 特别针对标题（h1, h2, h3）内的链接，确保绝对清净 */
h1 a, h2 a, h3 a, .post-title a {
  text-decoration: none !important;
  border-bottom: none !important;
  color: inherit !important;
}

h1 a:hover, h2 a:hover, h3 a:hover, .post-title a:hover {
  color: #ea580c !important; /* 仅在悬停时如实显示橙色 */
}

/* 4. 移除导航栏、侧边栏的装饰 */
nav a, .menu a, header a, footer a {
  text-decoration: none !important;
  border-bottom: none !important;
}
/* --- 左右齐平：向上对齐“福”字 --- */

/* 1. 消除电脑端 header 到底部（正文）的多余间距 */
header {
  margin-bottom: 0 !important;
  padding-bottom: 1rem !important; /* 保留一点点呼吸感，不至于贴死 */
}

/* 2. 强制主内容区上提 */
main {
  margin-top: -2rem !important; /* 使用负外边距，像抽水一样把文章提上来 */
}

/* 3. 针对手机端的特殊处理：提得更多一点 */
@media (max-width: 768px) {
  header {
    margin-top: 0.5rem !important;
    padding-bottom: 0.5rem !important;
  }
  
  main {
    margin-top: -0.5rem !important;
  }

  /* 缩小导航菜单与标题的间距，进一步腾出空间 */
  nav {
    margin-top: 0.2rem !important;
  }
}

/* 4. 确保右侧侧边栏不会跟着乱跳 */
@media (min-width: 1024px) {
  aside {
    margin-top: 0 !important;
    padding-top: 0 !important;
  }
}
/* --- 首页预览文字变黑：强效补丁 --- */

/* 1. 穿透主题容器锁定首页摘要 */
article .line-clamp-2,
article .line-clamp-3,
.prose p,
div[class*="text-zinc-500"],
div[class*="text-zinc-600"] {
  color: #18181b !important; /* 调至 zinc-900，比之前更黑一点 */
  opacity: 1 !important;
  --un-text-opacity: 1 !important; /* 针对 UnoCSS 的透明度变量进行重置 */
}

/* 2. 确保首页列表中的描述文字没有被滤镜干扰 */
.flex-col.gap-2 article p,
.post-preview-content {
  color: #18181b !important;
}

/* 3. 检查是否是链接颜色的问题（如果摘要整体是可点击的） */
main article a {
  color: inherit;
}
/* --- 详情页对齐补丁：对准右侧侧边栏 --- */

/* 1. 专门针对详情页的文章容器进行下移 */
.post-detailed {
  /* 将文章内容向下推，1.5rem 到 2.5rem 之间通常能达到视觉齐平 */
  margin-top: 2.2rem !important; 
}

/* 2. 同时微调 Meta 信息（标题、日期等）的间距，确保紧凑感 */
.post-detailed header {
  margin-top: 0 !important;
  margin-bottom: 2rem !important;
}

/* 3. 手机端适配：手机端通常是上下堆叠，不需要这个下移量 */
@media (max-width: 768px) {
  .post-detailed {
    margin-top: 2.2 !important;
  }
}
/* --- 详情页：仅提升正文内容，标题不动 --- */

/* 1. 消除标题区域（header）到底部的外边距 */
.post-detailed header {
  margin-bottom: 0.5rem !important; /* 压缩标题与正文的距离 */
}

/* 2. 消除正文第一个元素的顶部边距 */
/* Typography主题通常会在 content 容器或第一个 p 标签加间距 */
.post-detailed .prose > *:first-child,
.post-detailed #post-content-wrapper > *:first-child {
  margin-top: 0 !important;
  padding-top: 0 !important;
}

/* 3. 如果还是有间距，直接针对包裹层进行负位移 */
#post-content-wrapper {
  margin-top: -1rem !important; /* 这个值可以根据需要继续加大，比如 -1.5rem */
}

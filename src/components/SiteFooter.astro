---
// src/components/SiteFooter.astro
import { themeConfig } from '~/.config'

const year = new Date().getFullYear()

const { website, author, footer } = themeConfig.site

function parseFooter(str: string) {
  str = str.replace(/%author/g, author)
  str = str.replace(/%website/g, website)
  str = str.replace(/%year/g, year.toString())
  return str
}
---

{/* ⭐ 修复 ts(7006) 错误：为 str 参数添加 string 类型注解 */}
{footer.length && footer.map((str: string) => <p set:html={parseFooter(str)} />)}

<style>
  p {
    --at-apply: 'font-bold text-3';
  }
</style>